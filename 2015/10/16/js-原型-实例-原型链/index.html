<!DOCTYPE html><html lang="en-us"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>js(原型-实例-原型链) | Web PHP</title><meta name="description"><meta name="generator" content="Web PHP"><meta name="author" content="阳关冰上"><meta name="keywords" content="sjaak van den berg, svdb, bitcoin, crypto, payment, integration, bitcoins, wordpress, betaling, webshop, front end, design, ontwerp, developer"><meta name="HandheldFriendly" content="True"><meta name="MobileOptimized" content="320"><meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1,user-scalable=0"><link rel="stylesheet" type="text/css" href="/styles/screen.css"><link rel="apple-touch-icon" sizes="57x57" href="/images/apple-touch-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/images/apple-touch-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/images/apple-touch-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/images/apple-touch-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/images/apple-touch-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/images/apple-touch-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/images/apple-touch-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/images/apple-touch-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-180x180.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/images/favicon-96x96.png"><link rel="icon" type="image/png" sizes="160x160" href="/images/favicon-160x160.png"><link rel="icon" type="image/png" sizes="192x192" href="/images/favicon-192x192.png"><meta name="msapplication-TileColor" content="#121315"><meta name="msapplication-TileImage" content="/images/mstile-144x144.png"><link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="atom.xml"></head><body itemscope itemtype="https://schema.org/WebPage"><header itemscope itemtype="https://schema.org/WPHeader"><a href="/"><img src="/images/svdb.png" alt="Web PHP" title="Web PHP"></a><h1><a href="/" alt="Web PHP" title="Web PHP" itemprop="headline">Web PHP</a></h1><p itemprop="description"></p><nav itemscope itemtype="https://schema.org/SiteNavigationElement"><ul><li itemprop="name"><a href="/" alt="Home" title="Home" itemprop="url">Home</a></li><li itemprop="name"><a href="/articles" alt="Articles" title="Articles" itemprop="url">Articles</a></li><li itemprop="name"><a href="/about" alt="About" title="About" itemprop="url">About</a></li></ul></nav><div class="space"></div></header><main itemscope itemtype="https://schema.org/Blog"><article class="full"><h1 itemprop="headline">js(原型-实例-原型链)</h1><span class="post-meta">Published on<time itemprop="datePublished" datetime="2015-10-16T14:41:22.000Z"> Friday, October 16th 2015 at 22:41</time><br>Last updated on<time itemprop="dateModified" datetime="2015-10-16T14:41:22.000Z"> Monday, October 19th 2015 at 7:18</time></span><h4 id="javascript的原型对象">javascript的原型对象</h4><p>在js中每一个函数都一个原型属性(prototype),它是一个指向另一个对象指针，这个对象可以让同一个函数的所有实例共享属性和方法，这个对象就是原型对象。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">student</span></span>&#123;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line">student.prototype.name =<span class="string">"jack"</span>;</span><br><span class="line">student.prototype.class =<span class="string">"高1(2)班"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> stu1 = <span class="keyword">new</span> student();</span><br><span class="line">	<span class="built_in">console</span>.log(stu1.name); <span class="comment">//jack  </span></span><br><span class="line"><span class="keyword">var</span> stu2 = <span class="keyword">new</span> student();</span><br><span class="line">	<span class="built_in">console</span>.log(stu2.name); <span class="comment">//jack</span></span><br></pre></td></tr></table></figure>
<p>实例对象stu1和stu2 拥有同样的属性name和class，即共享了原型对象（student Prototype）的属性。</p>
<p>js中只要创建了一个函数，js就会为这个函数添加prototype属性，这个prototype属性指向函数的原型对象。而且原型对象也有一个construcor属性，指向它对应的函数。我们如果想向原型对象添加属性和方法，只能通过函数的prototype属性访问到原型对象，下面是构造函数，实例，原型对象之间的：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">student.prototype ---------&gt; student Prototype</span><br><span class="line">stu1.[[Prototype]]---------&gt; student Prototype</span><br><span class="line">stu2.[[Prototype]]---------&gt; student Prototype</span><br><span class="line"></span><br><span class="line">student Prototype.constructor-------&gt;student</span><br></pre></td></tr></table></figure>
<p>构造函数stduent以及两个实例stu1和stu2 ，它们共同指向原型对象student Prototype，而实例和构造函数之间没有直接关联。同时还有原型对象的constructor指向构造函数。</p>
<h4 id="继承">继承</h4><p>js中的继承是通过原型链来实现继承。这里我就直接使用《javascript 高级程序程序设计<br>》中的例子,实现原型链的基本模式：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SuperType</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.property = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">SuperType.prototype.getSuperValue = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">this</span>.property;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SubType</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.subproperty = <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//继承 SuperType</span></span><br><span class="line">SubType.prototype = <span class="keyword">new</span> SuperType();</span><br><span class="line">SubType.prototype = getSubValue = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">this</span>.subproperty;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> instance = <span class="keyword">new</span> SubType();</span><br><span class="line"><span class="built_in">console</span>.log(instance.getSuperValue());  <span class="comment">//true</span></span><br></pre></td></tr></table></figure>
<p>上述来两个构造函数SuperType和SubType都一个属性和方法，实例instance可以调用SuperType的方法getSuperValue，即实现了继承；实现的方式是SubType的prototype属性值，不再指向js为它创建的默认原型对象而是指向了SuperType的实例，但是SuperType的实例是指向它自己的默认原型对象的，这样instance也就可以访问SuperType的原型对象。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">SubType.prototype---&gt;SubType Prototype</span><br><span class="line">instance.[[Prototype]]---&gt; SubType Prototype.[[Prototype]]---&gt;SuperType Prototype</span><br><span class="line">SuperType Prototype.constructor---&gt;SuperType</span><br><span class="line">SuperType.prototype ---&gt; SuperType Prototye</span><br></pre></td></tr></table></figure>
</article></main></body></html>